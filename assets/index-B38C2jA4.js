var e=Object.defineProperty,t=(t,s,i)=>((t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i)(t,"symbol"!=typeof s?s+"":s,i);import{p as s}from"./phaser-CwoquCe3.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class i extends s.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png"),this.load.spritesheet("cat","assets/catBox.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("terrain","assets/terrain.png",{frameWidth:48,frameHeight:48})}create(){this.scene.start("Preloader")}}class r extends Phaser.Physics.Arcade.Sprite{constructor(e,s,i){if(super(e,s,i,"cat"),t(this,"cursors"),this.setOrigin(.5,.5),this.scale=2,this.scene.add.existing(this),this.scene.physics.add.existing(this),!e.input.keyboard)throw new Error("Keyboard input is not available");this.cursors=e.input.keyboard.createCursorKeys(),this.setCollideWorldBounds(!0),this.createAnimations(),this.play("idle")}createAnimations(){this.scene.anims.create({key:"idle",frames:this.scene.anims.generateFrameNumbers("cat",{start:0,end:3}),frameRate:5,repeat:-1})}update(){var e,t,s,i;(null==(e=this.cursors.left)?void 0:e.isDown)?(this.setVelocityX(-800),this.setFlipX(!1)):(null==(t=this.cursors.right)?void 0:t.isDown)?(this.setVelocityX(800),this.setFlipX(!0)):this.setVelocityX(0),(null==(s=this.cursors.up)?void 0:s.isDown)&&(null==(i=this.body)?void 0:i.blocked.down)&&this.setVelocityY(-4e3)}}class a extends s.Scene{constructor(){super("Game"),t(this,"camera"),t(this,"background"),t(this,"msg_text"),t(this,"ground"),t(this,"player")}create(){const e=3*this.scale.width;this.physics.world.setBounds(0,0,e,this.scale.height),this.player=new r(this,e/2,384),this.camera=this.cameras.main,this.camera.setBackgroundColor("#00ff00"),this.camera.startFollow(this.player,!0,.1,.1),this.camera.setBounds(0,0,e,this.scale.height),this.background=this.add.tileSprite(0,0,e,this.scale.height,"background").setOrigin(0,0).setScrollFactor(0),this.ground=this.physics.add.staticGroup();for(let t=0;t<e;t+=48)this.ground.create(t,744,"terrain",2).setOrigin(0,.5);this.player.setDepth(10),this.physics.add.collider(this.player,this.ground)}update(){const e=this.player.x,t=this.camera,s=this.scale.width;e>t.scrollX+200&&e<t.scrollX+s-200&&(t.scrollX=e-s/2),this.player.update()}}class o extends s.Scene{constructor(){super("GameOver"),t(this,"camera"),t(this,"background"),t(this,"gameover_text")}create(){this.camera=this.cameras.main,this.camera.setBackgroundColor(16711680),this.background=this.add.image(512,384,"background"),this.background.setAlpha(.5),this.gameover_text=this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}),this.gameover_text.setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}class n extends s.Scene{constructor(){super("MainMenu"),t(this,"background"),t(this,"logo"),t(this,"title")}create(){this.background=this.add.image(512,384,"background"),this.logo=this.add.image(512,300,"logo"),this.title=this.add.text(512,460,"Main Menu",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("Game")}))}}class c extends s.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const e=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(t=>{e.width=4+460*t}))}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png")}create(){this.scene.start("MainMenu")}}const h={type:Phaser.AUTO,width:1024,height:768,parent:"game-container",backgroundColor:"#028af8",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[i,c,n,a,o],physics:{default:"arcade",arcade:{gravity:{x:0,y:3e4},debug:!1}}};new s.Game(h);
